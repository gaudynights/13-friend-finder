<!DOCTYPE html>
<html>

<head>
    <title></title>
    <!-- <style type="text/css" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></style> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
        <form class="form-horizontal">
            <fieldset>
                <!-- Form Name -->
                <legend>BarryFinder&trade; Survey</legend>
                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="user-name">Your Name (required)</label>
                    <div class="col-md-4">
                        <input id="user-name" name="user-name" type="text" placeholder="RJ Gossett" class="form-control input-md" required="">
                    </div>
                </div>
                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="photo-url">Link to an image of you (required)</label>
                    <div class="col-md-4">
                        <input id="photo-url" name="photo-url" type="text" placeholder="https://pbs.twimg.com/profile_images/784183414731571200/f1SljRu_.jpg" class="form-control input-md" required="">
                    </div>
                </div>
                <!-- Select Basic -->
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q01">Question 1: It stresses you out if you haven't had a haircut this week </label>
                    <div class="col-md-3">
                        <select id="q01" name="q01" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q02">Question 2: You love your cat </label>
                    <div class="col-md-3">
                        <select id="q02" name="q02" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q03">Question 3: You don't take Lyfts </label>
                    <div class="col-md-3">
                        <select id="q03" name="q03" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q04">Question 4: You like pizza </label>
                    <div class="col-md-3">
                        <select id="q04" name="q04" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q05">Question 5: You work out a lot </label>
                    <div class="col-md-3">
                        <select id="q05" name="q05" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q06">Question 6: You are regular </label>
                    <div class="col-md-3">
                        <select id="q06" name="q06" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q07">Question 7: You would rather dance than fight </label>
                    <div class="col-md-3">
                        <select id="q07" name="q07" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q08">Question 8: You called your mom recently</label>
                    <div class="col-md-3">
                        <select id="q08" name="q08" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q09">Question 9: It's been too long since your last pedicure </label>
                    <div class="col-md-3">
                        <select id="q09" name="q09" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-8 control-label" for="q10">Question 10: You are a wizard </label>
                    <div class="col-md-3">
                        <select id="q10" name="q10" class="form-control question">
                            <option value="1">1 (Strongly agree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly disagree)</option>
                        </select>
                    </div>
                </div>
                <!-- Button -->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="submit-button"></label>
                    <div class="col-md-3">
                        <button id="submit-button" name="submit-button" class="btn btn-primary">Submit</button>
                    </div>
                </div>
            </fieldset>
        </form>
        <!-- Modal -->
        <div id="match-modal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Barry Found!</h4>
                    </div>
                    <div class="modal-body">
                        <p>This Barry is best for you!</p>
                        <img id="match-image" src="https://emojipedia-us.s3.amazonaws.com/thumbs/160/apple/81/woman-shrugging_1f937-200d-2640-fe0f.png" style="width:300px">
                        <h2 id="match-name"></h2>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
        $("#submit-button").on("click", function(event) {
            event.preventDefault();


            // Here we grab the form elements
            var newScores = [];

            $(".question").each(function() {

                newScores.push(this.value);
            });



            var newFriend = {

                name: $("#user-name").val().trim(),
                photo: $("#photo-url").val().trim(),
                scores: newScores
            };

            console.log(newFriend);

            $.post("/api/friends", newFriend,
                function(data) {
                    console.log("sending data to server");

                    console.log(data.name);

                    $("#match-name").text(data.name);
                    $('#match-image').attr("src", data.photo);

                    $("#match-modal").modal('toggle');


                });

        });
        </script>
    </div>
</body>
<footer>
    <a href="../api/friends">Friends-data </a>
    <a href="https://github.com/gaudynights/13-friend-finder"> GitHub</a>
</footer>

</html>